"use strict";(globalThis.webpackChunkmy_docs=globalThis.webpackChunkmy_docs||[]).push([[888],{1315:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"docs/satellite","title":"satellite.js \u2014 Satellite Data Scraper and Analyzer","description":"This file defines the logic for fetching, parsing, scoring, and saving satellite visibility data from Heavens-Above.com using web scraping. It uses helper functions from utils.js and libraries like request, cheerio, and fs.","source":"@site/docs/docs/satellite.md","sourceDirName":"docs","slug":"/docs/satellite","permalink":"/heavenabove/docs/docs/satellite","draft":false,"unlisted":false,"editUrl":"https://github.com/hassanq2003/heavenabove/tree/main/my-docs/docs/docs/satellite.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"iridium.js","permalink":"/heavenabove/docs/docs/iridium"},"next":{"title":"\ud83e\uddea Running Jest Tests for the Utils Module","permalink":"/heavenabove/docs/docs/test"}}');var t=n(4848),r=n(8453);const l={},d="satellite.js \u2014 Satellite Data Scraper and Analyzer",a={},c=[{value:"\ud83e\udde9 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\uddc2\ufe0f Overview",id:"\ufe0f-overview",level:2},{value:"\ud83d\udd27 Constants",id:"-constants",level:2},{value:"<code>property</code>",id:"property",level:3},{value:"<code>events</code>",id:"events",level:3},{value:"<code>attribute</code>",id:"attribute",level:3},{value:"\u2696\ufe0f Comparison &amp; Weight System",id:"\ufe0f-comparison--weight-system",level:2},{value:"<code>compare</code>",id:"compare",level:3},{value:"<code>weight</code>",id:"weight",level:3},{value:"\ud83d\udef0\ufe0f <code>getTable(config)</code> \u2014 Core Function",id:"\ufe0f-gettableconfig--core-function",level:2},{value:"Purpose",id:"purpose",level:3},{value:"Parameters",id:"parameters",level:3},{value:"\ud83d\udd04 Process Flow",id:"-process-flow",level:3},{value:"\ud83d\udcc1 Output Files",id:"-output-files",level:2},{value:"\u2699\ufe0f Example Usage",id:"\ufe0f-example-usage",level:2},{value:"\ud83e\udde0 Notes",id:"-notes",level:2},{value:"\ud83e\ude90 Summary",id:"-summary",level:2}];function o(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"satellitejs--satellite-data-scraper-and-analyzer",children:"satellite.js \u2014 Satellite Data Scraper and Analyzer"})}),"\n",(0,t.jsxs)(s.p,{children:["This file defines the logic for fetching, parsing, scoring, and saving satellite visibility data from ",(0,t.jsx)(s.strong,{children:"Heavens-Above.com"})," using web scraping. It uses helper functions from ",(0,t.jsx)(s.code,{children:"utils.js"})," and libraries like ",(0,t.jsx)(s.code,{children:"request"}),", ",(0,t.jsx)(s.code,{children:"cheerio"}),", and ",(0,t.jsx)(s.code,{children:"fs"}),"."]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-dependencies",children:"\ud83e\udde9 Dependencies"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'const request = require("request"); // For making HTTP requests\nconst cheerio = require("cheerio"); // For parsing HTML (like jQuery for the backend)\nconst fs = require("fs");           // For file operations\nconst utils = require("./utils");   // Custom utility functions (see util.md)\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"\ufe0f-overview",children:"\ud83d\uddc2\ufe0f Overview"}),"\n",(0,t.jsx)(s.p,{children:"The script automates the process of collecting satellite pass data. It:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Requests satellite pass tables from Heavens-Above."}),"\n",(0,t.jsx)(s.li,{children:"Parses satellite visibility events (rise, set, shadow entry/exit, etc.)."}),"\n",(0,t.jsx)(s.li,{children:"Extracts related details like altitude, azimuth, distance, and brightness."}),"\n",(0,t.jsx)(s.li,{children:"Downloads satellite finder images and stores the data locally."}),"\n",(0,t.jsx)(s.li,{children:"Calculates a \u201cscore\u201d for each satellite pass to rank them."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-constants",children:"\ud83d\udd27 Constants"}),"\n",(0,t.jsx)(s.h3,{id:"property",children:(0,t.jsx)(s.code,{children:"property"})}),"\n",(0,t.jsx)(s.p,{children:"An array of keys used to store satellite pass attributes."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'["url", "date", "brightness", "events", "passType", "image", "scoreData", "exist", "score", "id"];\n'})}),"\n",(0,t.jsx)(s.h3,{id:"events",children:(0,t.jsx)(s.code,{children:"events"})}),"\n",(0,t.jsx)(s.p,{children:"Represents different phases of a satellite\u2019s visibility."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'["rise", "reachAltitude10deg", "highestPoint", "dropBelowAltitude10deg", "set", "exitShadow", "enterShadow"];\n'})}),"\n",(0,t.jsx)(s.h3,{id:"attribute",children:(0,t.jsx)(s.code,{children:"attribute"})}),"\n",(0,t.jsx)(s.p,{children:"Describes data points collected for each event."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'["time", "altitude", "azimuth", "distance", "brightness", "sunAltitude"];\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"\ufe0f-comparison--weight-system",children:"\u2696\ufe0f Comparison & Weight System"}),"\n",(0,t.jsx)(s.h3,{id:"compare",children:(0,t.jsx)(s.code,{children:"compare"})}),"\n",(0,t.jsx)(s.p,{children:"Contains comparison functions to sort satellite passes based on various factors:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Brightness (smaller is better)"}),"\n",(0,t.jsx)(s.li,{children:"Sun altitude (smaller is better)"}),"\n",(0,t.jsx)(s.li,{children:"Satellite altitude (higher is better)"}),"\n",(0,t.jsx)(s.li,{children:"Duration (longer is better)"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"weight",children:(0,t.jsx)(s.code,{children:"weight"})}),"\n",(0,t.jsx)(s.p,{children:"Defines importance for each comparison criterion."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"[9.5, 6, 6.5, 6.5];\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsxs)(s.h2,{id:"\ufe0f-gettableconfig--core-function",children:["\ud83d\udef0\ufe0f ",(0,t.jsx)(s.code,{children:"getTable(config)"})," \u2014 Core Function"]}),"\n",(0,t.jsx)(s.h3,{id:"purpose",children:"Purpose"}),"\n",(0,t.jsx)(s.p,{children:"Fetches and processes all satellite pass data pages for a given satellite."}),"\n",(0,t.jsx)(s.h3,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"config.target"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"number"})}),(0,t.jsx)(s.td,{children:"Satellite ID (used in URL)."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"config.pages"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"number"})}),(0,t.jsx)(s.td,{children:"Number of pages to fetch."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"config.root"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"string"})}),(0,t.jsx)(s.td,{children:"Directory root to save data."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"config.counter"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"number"})}),(0,t.jsx)(s.td,{children:"Internal counter for recursion."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"config.opt"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"string"})}),(0,t.jsx)(s.td,{children:"POST data for pagination."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"config.database"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"Array"})}),(0,t.jsx)(s.td,{children:"Accumulated satellite data."})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"-process-flow",children:"\ud83d\udd04 Process Flow"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Initial Setup"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Builds request options using ",(0,t.jsx)(s.code,{children:"utils.get_options()"})," or ",(0,t.jsx)(s.code,{children:"utils.post_options()"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Creates a folder named ",(0,t.jsx)(s.code,{children:"satellite<id>/"})," for output files."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Fetch Data"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Uses ",(0,t.jsx)(s.code,{children:"request()"})," to download the satellite summary table."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Parse Table"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Extracts all pass links, dates, and brightness values."}),"\n",(0,t.jsx)(s.li,{children:"Creates a queue of pass objects for further processing."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Fetch Details"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"For each pass, requests the detailed view page."}),"\n",(0,t.jsx)(s.li,{children:"Extracts time, altitude, azimuth, distance, brightness, and sun altitude."}),"\n",(0,t.jsxs)(s.li,{children:["Computes start and end timestamps using ",(0,t.jsx)(s.code,{children:"utils.getTimestamp()"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Download Assets"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Saves the pass HTML table as ",(0,t.jsx)(s.code,{children:"<id>.html"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Downloads and saves the finder image as ",(0,t.jsx)(s.code,{children:"<id>.png"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Compute Score"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Each pass gets a \u201cscoreData\u201d array of [hour, brightness, sun altitude, altitude]."}),"\n",(0,t.jsx)(s.li,{children:"The total score is computed based on visibility time, brightness, and conditions."}),"\n",(0,t.jsx)(s.li,{children:"Adds bonuses for evening/morning passes."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Generate Output"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Creates a ranked JSON file ",(0,t.jsx)(s.code,{children:"index.json"})," with all passes sorted by score."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-output-files",children:"\ud83d\udcc1 Output Files"}),"\n",(0,t.jsxs)(s.p,{children:["All results are stored in a folder named like ",(0,t.jsx)(s.code,{children:"satellite12345/"}),":"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"File"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"index.json"})}),(0,t.jsx)(s.td,{children:"All pass data, sorted by score"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"<id>.html"})}),(0,t.jsx)(s.td,{children:"The parsed HTML table for each pass"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"<id>.png"})}),(0,t.jsx)(s.td,{children:"The visibility finder image"})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"\ufe0f-example-usage",children:"\u2699\ufe0f Example Usage"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'const satellite = require("./satellite");\n\nsatellite.getTable({\n  target: 25544,       // ISS (International Space Station)\n  pages: 3,            // Fetch 3 pages of data\n  root: "./data/",     // Save results in ./data/\n  counter: 0           // Start from page 0\n});\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-notes",children:"\ud83e\udde0 Notes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"The script uses recursion to fetch multiple pages automatically."}),"\n",(0,t.jsx)(s.li,{children:"Each request result is processed asynchronously using Promises."}),"\n",(0,t.jsx)(s.li,{children:"A scoring system is implemented to rank satellite passes by best visibility."}),"\n",(0,t.jsxs)(s.li,{children:["Depends on ",(0,t.jsx)(s.code,{children:"utils.js"})," for request options, MD5 hashing, and time parsing."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"-summary",children:"\ud83e\ude90 Summary"}),"\n",(0,t.jsxs)(s.p,{children:["This module acts as a ",(0,t.jsx)(s.strong,{children:"satellite visibility scraper and analyzer"}),".",(0,t.jsx)(s.br,{}),"\n","It collects, stores, and ranks passes by their visibility and brightness,",(0,t.jsx)(s.br,{}),"\n","providing both visual (image) and data outputs for astronomy or observation tools."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>d});var i=n(6540);const t={},r=i.createContext(t);function l(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);